runtime: "container"

startCommand:
  type: "http"
  configSchema:
    title: "Anna's Archive MCP Configuration"
    description: "Configuration for connecting to Anna's Archive MCP server"
    type: "object"
    required: ["secretKey"]
    properties:
      secretKey:
        type: "string"
        title: "Anna's Archive API Key"
        description: "Your Anna's Archive API key for accessing the JSON API. Get one at https://annas-archive.org/faq#api"
      downloadPath:
        type: "string"
        title: "Download Path"
        description: "Path where downloaded documents will be stored"
        default: "/tmp/downloads"
    additionalProperties: false
  exampleConfig:
    secretKey: "3K2dSUFJzMZ75yxpgKKK3oatGhV9a"
    downloadPath: "/tmp/downloads"
  oauth:
    required: true
    clientIdEnvVar: "SMITHERY_CLIENT_ID"
    clientSecretEnvVar: "SMITHERY_CLIENT_SECRET"
    authorizationUrl: "https://smithery.ai/oauth/authorize"
    tokenUrl: "https://smithery.ai/oauth/token"
    redirectPath: "/oauth/callback"
    scopes:
      - "mcp:access"

build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "."

env:
  PORT: "8080"
